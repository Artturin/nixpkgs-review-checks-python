# nixpkgs-review checks

This project does additional checks and adds more information about the build logs and outputs to the reports generated by [Mic92/nixpkgs-review/](https://github.com/Mic92/nixpkgs-review/).

## Features

- Search through logs to find special keywords that indicate a common error like `Ran 0 tests in 0.000s` by pytest or stale substituteInPlace
- Sort build failures by failing on master and new failing via hydra-check
- Run nixpkgs-hammering, filter warnings and add them to the report
- Automatically upload logs on build failures to termbin
- check binaries and shared objects for missing objects and left over debugging symbols

## Installation

- The following programs need to be installed in your environment:
  - [cached-nix-shell](https://github.com/xzfc/cached-nix-shell)
  - gh
  - jq
- Source `bashrc` in your `~/.bashrc`.

```bash
source ~/source/nixpkgs-review-checks/bashrc
```

## Usage

Just run `nixpkgs-review` normally and all features are activated automatically.

## Configuration

- `$NIXPKGS_HAMMER_ARCHIVE` URL to an archive to use for nixpkgs-hammering
